<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>(Spring Boot) 웹 개발 프로젝트 - 4 | 대현’s 개발일지</title>
<meta name="generator" content="Jekyll v4.3.3">
<meta property="og:title" content="(Spring Boot) 웹 개발 프로젝트 - 4">
<meta name="author" content="Yun Daehyun">
<meta property="og:locale" content="ko">
<meta name="description" content="패키지 구조 패키지는 크게 domain과 web으로 나눌 것이다. domain에는 domain, repository, service 등의 핵심 비지니스 업무 영역을 포함할 것이고, web에는 controller 등 웹페이지 관련 영역을 포함할 것이다. 따라서, web이 다른 것으로 대체되더라도 domain에는 영향을 끼치지 않아야한다. 즉, web -&gt; domain 의존관계가 형성되도록 나눌것이다.">
<meta property="og:description" content="패키지 구조 패키지는 크게 domain과 web으로 나눌 것이다. domain에는 domain, repository, service 등의 핵심 비지니스 업무 영역을 포함할 것이고, web에는 controller 등 웹페이지 관련 영역을 포함할 것이다. 따라서, web이 다른 것으로 대체되더라도 domain에는 영향을 끼치지 않아야한다. 즉, web -&gt; domain 의존관계가 형성되도록 나눌것이다.">
<link rel="canonical" href="/jekyll-theme-yat/project/2023/02/15/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4.html">
<meta property="og:url" content="/jekyll-theme-yat/project/2023/02/15/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4.html">
<meta property="og:site_name" content="대현’s 개발일지">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-15T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="(Spring Boot) 웹 개발 프로젝트 - 4">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun Daehyun"},"dateModified":"2023-02-15T00:00:00+00:00","datePublished":"2023-02-15T00:00:00+00:00","description":"패키지 구조 패키지는 크게 domain과 web으로 나눌 것이다. domain에는 domain, repository, service 등의 핵심 비지니스 업무 영역을 포함할 것이고, web에는 controller 등 웹페이지 관련 영역을 포함할 것이다. 따라서, web이 다른 것으로 대체되더라도 domain에는 영향을 끼치지 않아야한다. 즉, web -&gt; domain 의존관계가 형성되도록 나눌것이다.","headline":"(Spring Boot) 웹 개발 프로젝트 - 4","mainEntityOfPage":{"@type":"WebPage","@id":"/jekyll-theme-yat/project/2023/02/15/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4.html"},"url":"/jekyll-theme-yat/project/2023/02/15/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="icon" href="images/favicon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="/jekyll-theme-yat/assets/css/main.css">
  <script src="/jekyll-theme-yat/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="/jekyll-theme-yat/feed.xml" title="대현's 개발일지">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
</head>
<body>



























































































































<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/jekyll-theme-yat/">
  <img class="site-favicon" title="대현's 개발일지" src="images/favicon.png" onerror="this.style.display='none'">
  대현's 개발일지
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/jekyll-theme-yat/about.html">ABOUT</a><a class="page-link" href="/jekyll-theme-yat/archives.html">ARCHIVES</a><a class="page-link" href="/jekyll-theme-yat/categories.html">CATEGORIES</a><a class="page-link" href="/jekyll-theme-yat/">HOME</a><a class="page-link" href="/jekyll-theme-yat/tags.html">TAGS</a>









<span class="page-link">



<div id="google_translate_element" style="display: none;">
</div>

<span class="ct-language">
  <ul class="list-unstyled ct-language-dropdown">
    
      <li>
        <a href="#" class="lang-select" data-lang="ko">
          
          <img src="https://cdn.countryflags.com/thumbs/south-korea/flag-400.png" title="Korean">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="en">
          
          <img src="https://cdn.countryflags.com/thumbs/united-states-of-america/flag-400.png" title="English">
          
        </a>
      </li>
    
  </ul>
</span>

<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'ko',
    autoDisplay: false,
    layout: google.translate.TranslateElement.InlineLayout.VERTICAL
  }, 'google_translate_element');

  // Links to cross-origin destinations are unsafe
  var gll = document.getElementsByClassName('goog-logo-link')[0];
  if (gll) {
    gll.setAttribute('rel', 'noopener');
  }

  function restoreLang() {
    var iframe = document.getElementsByClassName('goog-te-banner-frame')[0];
    if (!iframe) return;

    var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
    var restore_el = innerDoc.getElementsByTagName("button");

    for (var i = 0; i < restore_el.length; i++) {
      if (restore_el[i].id.indexOf("restore") >= 0) {
        restore_el[i].click();
        var close_el = innerDoc.getElementsByClassName("goog-close-link");
        close_el[0].click();
        return;
      }
    }
  }

  function triggerHtmlEvent(element, eventName) {
    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent(eventName, true, true);
      element.dispatchEvent(event);
    } else {
      event = document.createEventObject();
      event.eventType = eventName;
      element.fireEvent('on' + event.eventType, event);
    }
  }

  var googleCombo = document.querySelector("select.goog-te-combo");
  var langSelect = document.querySelector('.ct-language');
  langSelect.addEventListener('click', function(event) {
    if (!event.target) {
      return;
    }

    var selected = document.querySelector('.ct-language .ct-language-selected');
    if (selected) {
      selected.classList.remove('ct-language-selected');
    }

    var target = event.target;
    while (target && target !== langSelect ) {
      if (target.matches('.lang-select')) {
        break;
      }
      target = target.parentElement;
    }

    if (target && target.matches('.lang-select')) {
      var lang = target.getAttribute('data-lang');
      if (googleCombo.value == lang) {
        restoreLang();
      } else {
        target.parentElement.classList.add('ct-language-selected');
        googleCombo.value = lang;
        triggerHtmlEvent(googleCombo, 'change');
      }
    }

    event.preventDefault();
  });
}
</script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</span>
</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>
















































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
<div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        clickToTop.classList.add('show')
      }else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

     <div class="post">
  <section>









<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">(Spring Boot) 웹 개발 프로젝트 - 4</h1>
  <h2 class="post-subtitle">회원가입 구현</h2>

  <p class="post-meta">
    <time class="dt-published" datetime="2023-02-15T00:00:00+00:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Feb 15, 2023
    </time>

    
    
































    <span class="post-reading-time left-vsplit"><i class="fa fa-clock-o"></i> About 22 mins</span>
  </p>
<div class="post-tags">
<a class="post-tag" href="/jekyll-theme-yat/tags.html#Spring">#Spring</a><a class="post-tag" href="/jekyll-theme-yat/tags.html#Java">#Java</a><a class="post-tag" href="/jekyll-theme-yat/tags.html#Web">#Web</a>
</div></header>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <h2 id="패키지-구조">패키지 구조</h2>
<p>패키지는 크게 domain과 web으로 나눌 것이다. domain에는 domain, repository, service 등의 핵심 비지니스 업무 영역을 포함할 것이고, web에는 controller 등 웹페이지 관련 영역을 포함할 것이다. 따라서, web이 다른 것으로 대체되더라도 domain에는 영향을 끼치지 않아야한다. 즉, web -&gt; domain 의존관계가 형성되도록 나눌것이다.</p>

<h2 id="도메인-설계">도메인 설계</h2>
<pre><code class="language-domain/member/Member.java">@Data
public class Member {
    private Long id;

    @NotEmpty(message = "아이디는 필수 입력사항입니다.")
    @Pattern(regexp="[a-zA-Z0-9]{8,14}", message = "아이디는 영어와 숫자를 조합하여 8~14자리 이내로 입력해주세요.")
    private String loginId;

    @NotEmpty(message = "비밀번호는 필수 입력사항입니다.")
    @Pattern(regexp="[a-zA-Z0-9]{8,16}", message = "비밀번호는 영어와 숫자를 조합하여 8~16자리 이내로 입력해주세요.")
    private String password;

    @NotEmpty(message = "이름은 필수 입력사항입니다.")
    private String userName;

    @NotEmpty(message = "닉네임은 필수 입력사항입니다.")
    private String nickName;

    @NotEmpty(message = "나이는 필수 입력사항입니다.")
    private String age;

    @NotEmpty(message = "성별은 필수 입력사항입니다.")
    private String gender;

    private String loverName;
}
</code></pre>
<p>회원정보에 필요한 요소로 ID, 비밀번호, 이름, 닉네임, 나이, 성별, 연인이름을 선택하였고, 연인이름을 제외한 모든 요소는 회원가입시에 반드시 입력해야만 가입이 가능하도록 하려고 한다. 이때, 필요한 annotation은 @NotEmpty이다. 요소에 @NotEmpty를 추가해주면 해당 요소가 비어있으면 가입이 불가능(오류발생)하도록 설정할 수 있다. 그리고 오류발생시 message를 설정해주었다.
ID, 비밀번호는 기입을 하였더라도 해당 패턴에 맞게 입력하지 않으면 오류가 발생하도록 @Pattern을 추가해주었다. 그리고 각자에 맞는 패턴을 regexp에 정규식으로 설정해주었다. 마지막으로 클래스에 @Data를 추가하여 getter, setter를 생략해주었다.</p>

<pre><code class="language-domain/member/GenderType.enum">public enum GenderType {
    MEN("남자"), WOMEN("여자");

    private final String description;

    GenderType(String description) {
        this.description = description;
    }

    public String getDescription() {
        return description;
    }
}
</code></pre>
<p>나중에 회원가입화면에서 성별을 radio로 설계하기 위해서 성별 종류를 enum type으로 만들어주었다.</p>

<h2 id="레포지토리-구현">레포지토리 구현</h2>
<p>나중에는 DB와 연결하여 레포지토리를 DB로 관리할 것이지만 일단, 메모리로 회원정보가 저장되도록 레포지토리를 구현할 것이다.</p>
<pre><code class="language-domain/member/MemberRepository.java">@Repository
@Slf4j
public class MemberRepository {
    private static Map&lt;Long, Member&gt; store = new HashMap&lt;&gt;();
    private static long sequence = 0L;

    public Member save(Member member) {
        member.setId(++sequence);
        log.info("save: member={}", member);
        store.put(member.getId(), member);
        return member;
    }

    public Member findById(Long id) {
        return store.get(id);
    }
    public Optional&lt;Member&gt; findByLoginId(String loginId) {
        return findAll().stream()
                .filter(m -&gt; m.getLoginId().equals(loginId))
                .findFirst();
    }
    public List&lt;Member&gt; findAll() {
        return new ArrayList&lt;&gt;(store.values());
    }
    public void clearStore() {
        store.clear();
    }
}
</code></pre>
<p>레포지토리 기능은 크게 회원정보를 저장하는 기능, ID로 레포지토리에서 회원정보를 찾는 기능, 레포지토리에서 회원정보를 모두 가져오는 기능으로 나뉜다.</p>
<ul>
  <li>save메소드는 회원에 고유 ID(로그인 ID와는 별개)를 저장 순서대로 부여하여 해시맵에 저장한다. 회원가입에 사용된다.</li>
  <li>findByLoginId 메소드는 loginId를 가지고 loginId에 해당하는 회원정보를 가져온다. 로그인에 사용된다.</li>
  <li>findAll 메소드는 모든 회원정보를 가져온다.</li>
  <li>clearStore 메소드는 이름그대로 메모리에 저장되어 있는 회원정보를 모두 삭제한다.</li>
</ul>

<h2 id="회원가입-기능-구현">회원가입 기능 구현</h2>
<pre><code class="language-web/member/MemberController.java">@RequiredArgsConstructor
@Controller
@RequestMapping("/join")
public class MemberController {
    private final MemberRepository memberRepository;

    @GetMapping
    public String joinForm(@ModelAttribute("member") Member member) {
        return "page/joinPage";
    }

    @PostMapping
    public String saveMember(@Valid @ModelAttribute Member member, BindingResult result) {
        if (result.hasErrors()) {
            return "page/joinPage";
        }

        memberRepository.save(member);
        return "redirect:/";
    }

    @ModelAttribute("genderType")
    public GenderType[] gender() {
        return GenderType.values();
    }
}
</code></pre>
<p>/join을 Get요청으로 받으면 회원가입화면으로 이동하도록 하였다. 이때, 회원가입 정보 검증때 오류가 발생하면 회원정보를 저장해두기 위해서 @ModelAttribute로 member모델을 만들어주어 함께 넘겨주도록 하였다. 
회원가입화면에서 회원정보 입력 후 가입버튼을 누르면 Post요청으로 /join으로 넘어간다. 회원정보에 이전에 설정한 검증요소에 부합하지 않은 정보가 있으면 오류가 발생하게 되고, 회원가입 페이지로 이동시킨다. 이때, 입력했던 회원정보도 같이 넘어가 회원가입화면에 나타나도록 하였다. 오류가 발생하지 않았다면 MemberRepository의 save메소드를 사용하여 회원정보를 저장하고, 메인화면으로 이동시킨다.
추가적으로 genderType 모델을 만들어 회원가입화면에서 사용할 수 있도록 하였다.</p>

<h2 id="회원가입-화면-설계">회원가입 화면 설계</h2>
<pre><code class="language-page/joinPage.html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
  &lt;title&gt;러브쉐어&lt;/title&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;link th:href="@{/css/bootstrap_lux.css}" href="../css/bootstrap_lux.css" rel="stylesheet"&gt;
  &lt;style&gt;
    .container {
      max-width: 700px;
    }
    .field-error {
      border-color: #dc3545;
      color: #dc3545;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="container"&gt;
  &lt;div class="py-5"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
    &lt;h2 class="text-center"&gt;회원가입&lt;/h2&gt;
    &lt;form th:action th:object="${member}" method="post"&gt;
      &lt;fieldset&gt;
        &lt;div class="form-group"&gt;
          &lt;label for="loginId" class="form-label mt-4"&gt;ID&lt;/label&gt;
          &lt;input type="text" class="form-control" th:errorclass="field-error" id="loginId" th:field="*{loginId}" aria-describedby="IdHelp" placeholder="ID"&gt;
          &lt;small id="IdHelp" class="form-text text-muted"&gt;아이디는 필수입력사항입니다.&lt;/small&gt;
          &lt;div th:class="field-error" th:errors="*{loginId}" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
          &lt;label for="password" class="form-label mt-4"&gt;비밀번호&lt;/label&gt;
          &lt;input type="password" class="form-control" th:errorclass="field-error" id="password" th:field="*{password}" placeholder="Password"&gt;
          &lt;div class="field-error" th:errors="*{password}" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
          &lt;label for="userName" class="form-label mt-4"&gt;이름&lt;/label&gt;
          &lt;input type="text" class="form-control" th:errorclass="field-error" id="userName" th:field="*{userName}" placeholder="이름을 입력하세요."&gt;
          &lt;div class="field-error" th:errors="*{userName}" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
          &lt;label for="nickName" class="form-label mt-4"&gt;닉네임&lt;/label&gt;
          &lt;input type="text" class="form-control" th:errorclass="field-error" id="nickName" th:field="*{nickName}" placeholder="닉네임을 입력하세요."&gt;
          &lt;div class="field-error" th:errors="*{nickName}" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
          &lt;label for="age" class="form-label mt-4"&gt;나이&lt;/label&gt;
          &lt;select class="form-select" th:errorclass="field-error" id="age" th:field="*{age}"&gt;
            &lt;option value="" selected="selected"&gt;나이를 선택하세요.&lt;/option&gt;
            &lt;th:block th:each="num : ${#numbers.sequence(14, 50)}"&gt;
              &lt;option th:text="${num}" th:value="${num}"&gt;&lt;/option&gt;
            &lt;/th:block&gt;
          &lt;/select&gt;
          &lt;div class="field-error" th:errors="*{age}" /&gt;
        &lt;/div&gt;
        &lt;label class="form-label mt-4"&gt;성별&lt;/label&gt;
        &lt;div class="form-check" th:each="type : ${genderType}"&gt;
          &lt;input class="form-check-input" th:errorclass="field-error" type="radio" th:field="*{gender}" th:value="${type.name()}"&gt;
          &lt;label class="form-check-label"  th:for="${#ids.prev('gender')}" th:text="${type.description}"&gt;
            남자
          &lt;/label&gt;
          &lt;div class="field-error" th:errors="*{gender}" /&gt;
        &lt;/div&gt;
        &lt;br&gt;
        &lt;button type="submit" class="btn btn-primary text-center bg-dark" style="width: 680px; font-size: 20px"&gt;확인&lt;/button&gt;
      &lt;/fieldset&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>부트스트랩을 사용하여 깔끔하게 회원가입화면을 제작했다. 
form 태그에 th:object=”${member}”을 삽입하여 회원가입화면에서 member객체를 사용할 수 있도록 하였다. 그리고 객체의 변수를 각각 해당 회원가입 요소 input태그에 넣어줬다. 타임리프는 이 th:field를 인식하여 id와 name을 field이름에 맞게 자동 생성해준다. 따라서 id와 name 속성을 입력해줄 필요가 없다. 그런데 필자는 input마다 label을 넣었기 때문에 확실한 인식을 위해서 id속성만 입력하였다. 회원가입화면으로 처음이동했을 때는 field가 비어있지만 회원가입 오류 발생시에 회원가입화면으로 이동했을 때는 field에 회원가입 정보가 저장되어 있다. 그리고 회원가입 각 요소마다 오류 발생시 오류 메세지를 출력이 되도록 div태그를 삽입해주었다. 오류 메시지는 th:errors속성으로 나타난다.</p>

<ul>
  <li>
    <p>회원가입 화면
<img src="https://user-images.githubusercontent.com/71585151/219054832-88978ff9-f0c2-4ae0-bcb0-a87b02ed7a5b.png" alt="image"></p>
  </li>
  <li>
    <p>@NotEmpty오류 발생시 화면
<img src="https://user-images.githubusercontent.com/71585151/219055386-f4690d71-a924-4169-b126-721b67733bf3.png" alt="image"></p>
  </li>
  <li>
    <p>@Pattern 오류 발생시 화면
<img src="https://user-images.githubusercontent.com/71585151/219055530-009986ca-4db7-4a88-a3ce-509f1a64e5d4.png" alt="image"></p>
  </li>
</ul>



    </div>

</article>
<div class="post-nav">
<a class="previous" href="/jekyll-theme-yat/project/2023/02/14/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-3.html" title="(Spring Boot) 웹 개발 프로젝트 - 3">(Spring Boot) 웹 개발 프로젝트 -...</a><a class="next" href="/jekyll-theme-yat/project/2023/02/19/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-5.html" title="(Spring Boot) 웹 개발 프로젝트 - 5">(Spring Boot) 웹 개발 프로젝트 -...</a>
</div>
<div class="post-related">
      <div>Related Articles</div>
      <ul>
        <li><a class="post-link" href="/jekyll-theme-yat/project/2023/02/01/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-1.html" title="(Spring Boot) 웹 개발 프로젝트 - 5">(Spring Boot) 웹 개발 프로젝트 - 1</a></li>
<li><a class="post-link" href="/jekyll-theme-yat/project/2023/03/24/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-8.html" title="(Spring Boot) 웹 개발 프로젝트 - 5">(Spring Boot) 웹 개발 프로젝트 - 8</a></li>
<li><a class="post-link" href="/jekyll-theme-yat/project/2023/02/15/(Spring-Boot)-%EC%9B%B9-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4.html" title="(Spring Boot) 웹 개발 프로젝트 - 5">(Spring Boot) 웹 개발 프로젝트 - 4</a></li>
<li><a class="post-link" href="/jekyll-theme-yat/oauth2/2024/04/18/(OAuth2-Login)-%EA%B5%AC%EA%B8%80-%EC%86%8C%EC%85%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EA%B5%AC%ED%98%84-(1)-_-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC.html" title="(Spring Boot) 웹 개발 프로젝트 - 5">(OAuth2 Login) 구글 소셜 로그인 구현 (1) - 동작원리</a></li>
</ul>
    </div>
<div class="post-comments"></div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">TOC</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/jekyll-theme-yat/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div>Unpublished Work <span class="copyleft">©</span> 2017-2024 Yun Daehyun</div>
      <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="https://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/jekyll-theme-yat/feed.xml">via RSS</a>
</div>
    </div>
  </div>
</footer>
</body>
</html>
